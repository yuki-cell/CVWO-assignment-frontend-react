[{"/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/index.tsx":"1","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/reportWebVitals.ts":"2","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/App.tsx":"3","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskForm.tsx":"4","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskList.tsx":"5","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskListItem.tsx":"6","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/Types.ts":"7","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskSearchBar.tsx":"8","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskApp.tsx":"9","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskEditDialog.tsx":"10","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskDeleteDialog.tsx":"11","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/SubTaskAddDialog.tsx":"12"},{"size":500,"mtime":1611151782513,"results":"13","hashOfConfig":"14"},{"size":425,"mtime":1607525412763,"results":"15","hashOfConfig":"14"},{"size":3493,"mtime":1611125927348,"results":"16","hashOfConfig":"14"},{"size":3719,"mtime":1610983889412,"results":"17","hashOfConfig":"14"},{"size":1020,"mtime":1611125927381,"results":"18","hashOfConfig":"14"},{"size":5708,"mtime":1611153086758,"results":"19","hashOfConfig":"14"},{"size":127,"mtime":1610629443225,"results":"20","hashOfConfig":"14"},{"size":871,"mtime":1611125927407,"results":"21","hashOfConfig":"14"},{"size":1910,"mtime":1611125927356,"results":"22","hashOfConfig":"14"},{"size":3765,"mtime":1610980670552,"results":"23","hashOfConfig":"14"},{"size":2264,"mtime":1611127522917,"results":"24","hashOfConfig":"14"},{"size":3932,"mtime":1611127524494,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"dc9g33",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"28"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"28"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"28"},"/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/index.tsx",[],["59","60"],"/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/reportWebVitals.ts",[],"/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/App.tsx",["61","62","63","64","65"],"import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from 'axios';\nimport { Tag, Task } from './components/Types'\nimport TaskApp from './components/TaskApp'\n\ninterface State {\n  tasks: Task[]\n  filtered_tasks: Task[]\n  searchWord: string\n}\n\nclass App extends React.Component<any, State> {\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      tasks: [],\n      filtered_tasks: [],\n      searchWord: \"\"\n    }\n    this.setTasks = this.setTasks.bind(this)\n    this.setFilteredTasks = this.setFilteredTasks.bind(this)\n  }\n\n  setSearchWord(newWord: string) {\n    this.setState({searchWord: newWord})\n  }\n\n  setTasks(tasks: Task[]) {\n    this.setState({tasks: tasks})\n    // update filtered tasks\n    let filtered_task = this.filterTaskByTag(this.state.searchWord, tasks)\n    this.setFilteredTasks(filtered_task)\n  }\n\n  setFilteredTasks(filtered_tasks: Task[]) {\n    this.setState({filtered_tasks: filtered_tasks})\n  }\n\n  filterTaskByTag(keyword: string, tasks: Task[]) {\n    // case-insensitive search, search tasks that have matching tag\n    if (keyword != \"\") {\n      tasks = tasks.filter((task) => this.hasMatchingTag(task.tags, keyword))\n    }\n    return tasks\n  }\n\n  hasMatchingTag(tags: Tag[], keyword: string) {\n    return tags.some((tag) => {\n      return tag.name.toLowerCase().includes(keyword.toLowerCase())\n    })\n  }\n\n  addTask(task: Task) {\n    // update tasks\n    let tasks = this.state.tasks.slice()\n    tasks.push(task)\n    this.setTasks(tasks)\n  }\n\n  updateTask(targetTask: Task) {\n    // update tasks\n    const tasks = this.state.tasks.slice();\n    let targetIndex = tasks.findIndex(task => task.id === targetTask.id);\n    tasks.splice(targetIndex, 1, targetTask);\n    this.setTasks(tasks)\n  }\n\n  removeTask(targetTask: Task) {\n    // update tasks, remove all related sub-tasks\n    const tasks = this.state.tasks.slice()\n    // remove task\n    let targetIndex = tasks.findIndex(task => task.id === targetTask.id)\n    tasks.splice(targetIndex, 1)\n    // remove all related subtasks\n    let sub_tasks = this.getSubTasks(targetTask)\n    while (sub_tasks.length > 0) {\n      let new_sub_tasks: Task[] = []\n      sub_tasks.forEach((sub_task) => {\n        let targetIndex = tasks.findIndex(task => task.id == sub_task.id)\n        tasks.splice(targetIndex, 1)\n        // find sub_tasks of sub_tasks\n        new_sub_tasks = new_sub_tasks.concat(this.getSubTasks(sub_task))\n      })\n      sub_tasks = new_sub_tasks.slice()\n    }\n    \n    this.setTasks(tasks)\n  }\n\n  getSubTasks(parent_task: Task) {\n    return this.state.tasks.filter(task => task.parent_task_id == parent_task.id)\n  }\n\n  get axios() {\n       const axiosBase = require('axios');\n       return axiosBase.create({\n           baseURL: process.env.REACT_APP_DEV_API_URL,\n           headers: {\n               'Content-Type': 'application/json',\n               'X-Requested-With': 'XMLHttpRequest'\n           },\n           responseType: 'json'\n       });\n   }\n\n   // get tasks when app is first shown(= when component mounted)\n  componentDidMount() {\n   this.axios.get('/tasks')\n      .then((results: any) => {\n          console.log(results);\n          this.setState({\n              tasks: results.data,\n              filtered_tasks: results.data\n          });\n      })\n      .catch((data: any) => {\n          console.log(data);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <TaskApp app={this}/>\n      </div>\n    )\n  }\n\n}\n\nexport default App;\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskForm.tsx",["66","67","68","69","70","71","72","73","74"],"import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Grid from '@material-ui/core/Grid';\nimport { Task, Tag } from './Types'\nimport ChipInput from 'material-ui-chip-input'\nimport { useFormik, FieldArray, Field} from 'formik';\nimport * as Yup from 'yup';\nimport App from '../App';\nimport { sizing } from '@material-ui/system';\nimport LabelRoundedIcon from '@material-ui/icons/LabelRounded';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport AddBoxRoundedIcon from '@material-ui/icons/AddBoxRounded';\nimport IconButton from '@material-ui/core/IconButton';\n\ninterface TaskFormProps {\n  app: App\n}\n\nfunction TaskForm(props: TaskFormProps) {\n  const tags : Tag[] = []\n  const [state, setState] = useState({\n      name: \"\",\n      tags_attributes: tags\n  })\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string()\n        .required('Name is required'),\n  })\n\n  const handleSubmit = (values: any, {resetForm}: any) => {\n      props.app.axios.post(\"/tasks\", {\n          task: values,\n      })\n          .then((result: any) => {\n              // update tasks in App component\n              props.app.addTask(result.data)\n              // set input value back to null\n              resetForm()\n              const tags : Tag[] = []\n              formik.setFieldValue(\"tags_attributes\", tags, true)\n          })\n          .catch((data: any) => {\n              console.log(data)\n          })\n  }\n\n  const formik = useFormik({\n    initialValues: state,\n    validationSchema: validationSchema,\n    onSubmit: handleSubmit\n  })\n\n  const handleAddChip = (chip: any) => {\n    let tags = {...formik.values}.tags_attributes\n    tags.push({name: chip})\n    // initialValuesを変えてしまうからresetFormに影響を与えてしまう(resetForm uses initialValues)\n    formik.setFieldValue(\"tags_attributes\", tags, true)\n    console.log(formik.values)\n  }\n  const handleDeleteChip = (chip: any, index: any) => {\n    let tags = {...formik.values}.tags_attributes\n    tags.splice(index, 1)\n    formik.setFieldValue(\"tags_attributes\", tags, true)\n  }\n\n  return (\n        <Paper>\n          <form onSubmit={formik.handleSubmit}>\n            <Box mx={2}>\n              <Grid container spacing={2} justify=\"center\"\n                alignItems=\"center\" direction=\"row\">\n                  <Grid item sm={7} xs={8}>\n                    <TextField id=\"outlined-basic\" variant=\"outlined\" size=\"small\"\n                      name=\"name\" label=\"Add new task\"\n                      value={formik.values.name}\n                      onChange={formik.handleChange}\n                      error={formik.touched.name && Boolean(formik.errors.name)}\n                      helperText={formik.touched.name && formik.errors.name}\n                      fullWidth\n                    />\n                  </Grid>\n\n                  <Grid item sm={3} xs={4}>\n                    <ChipInput label=\"Tags\" size=\"small\" fullWidth\n                      value={formik.values.tags_attributes.map((tag)=>tag.name)}\n                      onAdd={chip => handleAddChip(chip)}\n                      onDelete={(chip, index) => handleDeleteChip(chip, index)}\n                    />\n                  </Grid>\n\n                  <Grid item style={{display: \"inline-block\"}} sm={2} xs={12}>\n                    <Button variant=\"contained\" color=\"primary\" type=\"submit\" fullWidth>\n                      Add\n                    </Button>\n                  </Grid>\n\n              </Grid>\n            </Box>\n          </form>\n        </Paper>\n\n    )\n}\n\nexport default TaskForm;\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskList.tsx",["75","76","77","78","79"],"import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem, { ListItemProps } from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Button from '@material-ui/core/Button';\nimport { Task } from './Types'\nimport TaskListItem from './TaskListItem'\nimport App from '../App';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\n\n\ninterface TaskListProps {\n  app: App\n  tasks: Task[]\n}\n\nfunction TaskList(props: TaskListProps) {\n  const body = () => {\n    const hasTasks = props.tasks.length > 0\n    if (hasTasks) {\n      return props.tasks.map( (task: Task) => (\n          <TaskListItem key={task.id} app={props.app} task={task}/>\n      ))\n    } else {\n      return <p>No task</p>\n    }\n  }\n\n  return (\n    <Box my={1}>\n      <Paper>\n        <List>\n          {body()}\n         </List>\n      </Paper>\n      <br/>\n    </Box>\n   )\n\n\n}\n\nexport default TaskList;\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskListItem.tsx",["80","81","82","83","84","85","86","87","88"],"/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/Types.ts",[],"/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskSearchBar.tsx",["89","90"],"import React, { useState } from 'react';\nimport { Task, Tag } from './Types'\nimport SearchBar from \"material-ui-search-bar\";\nimport App from '../App';\n\ninterface TaskSearchBarProps {\n  tasks: Task[]\n  setFilteredTasks: any\n  app: App\n}\n\nfunction TaskSearchBar(props: TaskSearchBarProps) {\n\n  const handleChange = (newValue: string) => {\n    // update search word\n    props.app.setSearchWord(newValue)\n    // filter task\n    var filtered_task = props.app.filterTaskByTag(newValue, props.tasks)\n    props.setFilteredTasks(filtered_task)\n  }\n\n  const handleCancelSearch = () => {\n    props.setFilteredTasks(props.tasks)\n  }\n\n  return (\n    <div>\n      <SearchBar\n        placeholder=\"Search by tag\"\n        value={props.app.state.searchWord}\n        onChange={handleChange}\n        onCancelSearch={handleCancelSearch}\n      />\n    </div>\n  )\n}\n\nexport default TaskSearchBar\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskApp.tsx",["91"],"import React from 'react';\nimport '../App.css';\nimport TaskForm from './TaskForm'\nimport TaskList from './TaskList'\nimport TaskSearchBar from './TaskSearchBar'\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport red from '@material-ui/core/colors/red';\nimport blue from '@material-ui/core/colors/blue';\nimport grey from '@material-ui/core/colors/grey';\nimport App from '../App';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  redPaper: {\n    backgroundColor: red['A200']\n    // backgroundColor: grey['50']\n\n  },\n  bluePaper: {\n    backgroundColor: blue['A200']\n    // backgroundColor: grey['50']\n\n  },\n}));\n\ninterface TaskAppProps{\n  app: App\n}\n\nfunction TaskApp(props: TaskAppProps) {\n  const classes = useStyles()\n  const getParentTasks = () => {\n    return props.app.state.filtered_tasks.filter((task) => task.parent_task_id == null)\n  }\n  return (\n    <div className=\"TodoApp\">\n      <Box color=\"text.primary\" width=\"90%\" maxWidth={1300} mx={\"auto\"} mt={3}>\n        <Typography variant=\"h5\" gutterBottom\n        style={{fontFamily: 'Lato', fontWeight: 700}}>\n          React Todo App\n        </Typography>\n        <hr/>\n        <Box mb={2}>\n          <Paper elevation={3} className={classes.redPaper}>\n            <Box mx={2}>\n              <br/>\n              <TaskForm app={props.app} />\n              <br/>\n            </Box>\n          </Paper>\n        </Box>\n        <Paper elevation={3} className={classes.bluePaper}>\n          <Box mx={2}>\n            <br/>\n            <TaskSearchBar tasks={props.app.state.tasks}\n            setFilteredTasks={props.app.setFilteredTasks} app={props.app}/>\n            <TaskList app={props.app} tasks={getParentTasks()}/>\n          </Box>\n        </Paper>\n      </Box>\n    </div>\n  )\n}\n\nexport default TaskApp;\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskEditDialog.tsx",["92","93","94","95","96","97","98","99"],"import React, { useState } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ChipInput from 'material-ui-chip-input'\nimport Box from '@material-ui/core/Box';\nimport { Task } from './Types'\nimport TextField from '@material-ui/core/TextField';\nimport { useFormik, FieldArray, Field} from 'formik';\nimport * as Yup from 'yup';\nimport App from '../App';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface TaskEditDialogProps {\n  open: boolean\n  onClose: any\n  task: Task\n  app: App\n}\n\nfunction TaskEditDialog(props: TaskEditDialogProps) {\n    const [state, setState] = useState({\n      name: props.task.name,\n      tags_attributes: props.task.tags\n    })\n\n    const validationSchema = Yup.object().shape({\n      name: Yup.string()\n          .required('Name is required'),\n    });\n\n\n    const handleSubmit = (values: any, {resetForm}: any) => {\n          props.app.axios.patch(`/tasks/${props.task.id}`, {\n              task: values\n          })\n              .then((results: any) => {\n                  // update tasks in app\n                  props.app.updateTask(results.data)\n                  props.onClose()\n              })\n              .catch((data: any) => {\n                  alert(\"Failed to edit\")\n                  console.log(data);\n              })\n    }\n\n    const formik = useFormik({\n      initialValues: state,\n      validationSchema: validationSchema,\n      onSubmit: handleSubmit\n    })\n\n    const handleAddChip = (chip: any) => {\n      let tags = {...formik.values}.tags_attributes\n      tags.push({name: chip})\n      // initialValuesを変えてしまうからresetFormに影響を与えてしまう(resetForm uses initialValues)\n      formik.setFieldValue(\"tags_attributes\", tags, true)\n      console.log(formik.values)\n    }\n    const handleDeleteChip = (chip: any, index: any) => {\n      let tags = {...formik.values}.tags_attributes\n      tags.splice(index, 1)\n      formik.setFieldValue(\"tags_attributes\", tags, true)\n    }\n\n    return (\n          <Dialog open={props.open} onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n            <form onSubmit={formik.handleSubmit}>\n\n              <DialogTitle id=\"form-dialog-title\">Edit task</DialogTitle>\n              <DialogContent>\n                <TextField id=\"outlined-basic\" variant=\"outlined\" size=\"small\"\n                  fullWidth margin=\"dense\"\n                  name=\"name\" label=\"Task Name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                  error={formik.touched.name && Boolean(formik.errors.name)}\n                  helperText={formik.touched.name && formik.errors.name}\n                />\n                <ChipInput label=\"Tags\"\n                  fullWidth margin=\"dense\"\n                  value={formik.values.tags_attributes.map((tag)=>tag.name)}\n                  onAdd={chip => handleAddChip(chip)}\n                  onDelete={(chip, index) => handleDeleteChip(chip, index)}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={props.onClose} color=\"secondary\">\n                  Cancel\n                </Button>\n                <Button color=\"primary\" type=\"submit\">\n                  Save\n                </Button>\n              </DialogActions>\n            </form>\n          </Dialog>\n\n    );\n}\n\nexport default TaskEditDialog\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/TaskDeleteDialog.tsx",["100","101","102","103","104","105","106","107","108","109","110","111"],"import React, { useState } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ChipInput from 'material-ui-chip-input'\nimport Box from '@material-ui/core/Box';\nimport { Task } from './Types'\nimport TextField from '@material-ui/core/TextField';\nimport { useFormik, FieldArray, Field} from 'formik';\nimport * as Yup from 'yup';\nimport App from '../App';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface TaskDeleteDialogProps {\n  open: boolean\n  onClose: any\n  task: Task\n  app: App\n}\n\nfunction TaskDeleteDialog(props: TaskDeleteDialogProps) {\n    const [state, setState] = useState({\n      name: props.task.name,\n      tags_attributes: props.task.tags\n    })\n\n    const handleTaskDelete = (event:React.MouseEvent<HTMLButtonElement>, id: number) => {\n      event.preventDefault();\n      props.app.axios.delete(`/tasks/${id}`)\n         .then((result: any) => {\n             // update tasks in App component\n             props.app.removeTask(result.data)\n         })\n         .catch((data: any) => {\n             console.log(data);\n         });\n    }\n\n    return (\n          <Dialog open={props.open} onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">Are you sure you want to delete this task?</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                * This action will delete all subtasks.\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={props.onClose}>\n                Cancel\n              </Button>\n              <Button color=\"secondary\"\n              onClick={(event) => handleTaskDelete(event, props.task.id)}>\n                Delete\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n    );\n}\n\nexport default TaskDeleteDialog\n","/Users/qiuyueyouji/Documents/cs/web/CVWO assignment/frontend-react/cvwo-todo-app-frontend/src/components/SubTaskAddDialog.tsx",["112","113","114","115","116","117","118","119"],"import React, { useState } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport ChipInput from 'material-ui-chip-input'\nimport Box from '@material-ui/core/Box';\nimport { Tag, Task } from './Types'\nimport TextField from '@material-ui/core/TextField';\nimport { useFormik, FieldArray, Field} from 'formik';\nimport * as Yup from 'yup';\nimport App from '../App';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface SubTaskAddDialogProps {\n  open: boolean\n  onClose: any\n  app: App\n  task: Task\n}\n\nfunction SubTaskAddDialog(props: SubTaskAddDialogProps) {\n    const tags : Tag[] = []\n    const [state, setState] = useState({\n      parent_task_id: props.task.id,\n      name: \"\",\n      tags_attributes: tags\n    })\n\n    const validationSchema = Yup.object().shape({\n      name: Yup.string()\n          .required('Name is required'),\n    });\n\n    const handleSubmit = (values: any, {resetForm}: any) => {\n        props.app.axios.post(\"/tasks\", {\n            task: values,\n        })\n            .then((result: any) => {\n                // update tasks in App component\n                props.app.addTask(result.data)\n                // set input value back to null\n                resetForm()\n                const tags : Tag[] = []\n                formik.setFieldValue(\"tags_attributes\", tags, true)\n\n                props.onClose()\n            })\n            .catch((data: any) => {\n                console.log(data)\n            })\n    }\n\n    const formik = useFormik({\n      initialValues: state,\n      validationSchema: validationSchema,\n      onSubmit: handleSubmit\n    })\n\n    const handleAddChip = (chip: any) => {\n      let tags = {...formik.values}.tags_attributes\n      tags.push({name: chip})\n      // initialValuesを変えてしまうからresetFormに影響を与えてしまう(resetForm uses initialValues)\n      formik.setFieldValue(\"tags_attributes\", tags, true)\n      console.log(formik.values)\n    }\n    const handleDeleteChip = (chip: any, index: any) => {\n      let tags = {...formik.values}.tags_attributes\n      tags.splice(index, 1)\n      formik.setFieldValue(\"tags_attributes\", tags, true)\n    }\n\n    return (\n          <Dialog open={props.open} onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n            <form onSubmit={formik.handleSubmit}>\n\n              <DialogTitle id=\"form-dialog-title\">Add new sub task</DialogTitle>\n              <DialogContent>\n                <TextField id=\"outlined-basic\" variant=\"outlined\" size=\"small\"\n                  fullWidth margin=\"dense\"\n                  name=\"name\" label=\"Task Name\"\n                  value={formik.values.name}\n                  onChange={formik.handleChange}\n                  error={formik.touched.name && Boolean(formik.errors.name)}\n                  helperText={formik.touched.name && formik.errors.name}\n                />\n                <ChipInput label=\"Tags\"\n                  fullWidth margin=\"dense\"\n                  value={formik.values.tags_attributes.map((tag)=>tag.name)}\n                  onAdd={chip => handleAddChip(chip)}\n                  onDelete={(chip, index) => handleDeleteChip(chip, index)}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={props.onClose} color=\"secondary\">\n                  Cancel\n                </Button>\n                <Button color=\"primary\" type=\"submit\">\n                  Add\n                </Button>\n              </DialogActions>\n            </form>\n          </Dialog>\n\n    );\n}\n\nexport default SubTaskAddDialog\n",{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","severity":1,"message":"125","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":12},{"ruleId":"124","severity":1,"message":"128","line":4,"column":8,"nodeType":"126","messageId":"127","endLine":4,"endColumn":13},{"ruleId":"129","severity":1,"message":"130","line":43,"column":17,"nodeType":"131","messageId":"132","endLine":43,"endColumn":19},{"ruleId":"129","severity":1,"message":"133","line":81,"column":59,"nodeType":"131","messageId":"132","endLine":81,"endColumn":61},{"ruleId":"129","severity":1,"message":"133","line":93,"column":64,"nodeType":"131","messageId":"132","endLine":93,"endColumn":66},{"ruleId":"124","severity":1,"message":"134","line":4,"column":8,"nodeType":"126","messageId":"127","endLine":4,"endColumn":18},{"ruleId":"124","severity":1,"message":"135","line":6,"column":10,"nodeType":"126","messageId":"127","endLine":6,"endColumn":14},{"ruleId":"124","severity":1,"message":"136","line":8,"column":21,"nodeType":"126","messageId":"127","endLine":8,"endColumn":31},{"ruleId":"124","severity":1,"message":"137","line":8,"column":33,"nodeType":"126","messageId":"127","endLine":8,"endColumn":38},{"ruleId":"124","severity":1,"message":"138","line":11,"column":10,"nodeType":"126","messageId":"127","endLine":11,"endColumn":16},{"ruleId":"124","severity":1,"message":"139","line":12,"column":8,"nodeType":"126","messageId":"127","endLine":12,"endColumn":24},{"ruleId":"124","severity":1,"message":"140","line":15,"column":8,"nodeType":"126","messageId":"127","endLine":15,"endColumn":25},{"ruleId":"124","severity":1,"message":"141","line":16,"column":8,"nodeType":"126","messageId":"127","endLine":16,"endColumn":18},{"ruleId":"124","severity":1,"message":"142","line":24,"column":17,"nodeType":"126","messageId":"127","endLine":24,"endColumn":25},{"ruleId":"124","severity":1,"message":"143","line":3,"column":8,"nodeType":"126","messageId":"127","endLine":3,"endColumn":16},{"ruleId":"124","severity":1,"message":"144","line":3,"column":20,"nodeType":"126","messageId":"127","endLine":3,"endColumn":33},{"ruleId":"124","severity":1,"message":"145","line":4,"column":8,"nodeType":"126","messageId":"127","endLine":4,"endColumn":20},{"ruleId":"124","severity":1,"message":"146","line":5,"column":8,"nodeType":"126","messageId":"127","endLine":5,"endColumn":20},{"ruleId":"124","severity":1,"message":"147","line":6,"column":8,"nodeType":"126","messageId":"127","endLine":6,"endColumn":14},{"ruleId":"124","severity":1,"message":"148","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":12},{"ruleId":"124","severity":1,"message":"144","line":3,"column":20,"nodeType":"126","messageId":"127","endLine":3,"endColumn":33},{"ruleId":"124","severity":1,"message":"145","line":4,"column":8,"nodeType":"126","messageId":"127","endLine":4,"endColumn":20},{"ruleId":"124","severity":1,"message":"147","line":6,"column":8,"nodeType":"126","messageId":"127","endLine":6,"endColumn":14},{"ruleId":"124","severity":1,"message":"149","line":18,"column":8,"nodeType":"126","messageId":"127","endLine":18,"endColumn":13},{"ruleId":"124","severity":1,"message":"150","line":23,"column":8,"nodeType":"126","messageId":"127","endLine":23,"endColumn":16},{"ruleId":"124","severity":1,"message":"151","line":26,"column":8,"nodeType":"126","messageId":"127","endLine":26,"endColumn":31},{"ruleId":"129","severity":1,"message":"133","line":95,"column":37,"nodeType":"131","messageId":"132","endLine":95,"endColumn":39},{"ruleId":"129","severity":1,"message":"133","line":101,"column":37,"nodeType":"131","messageId":"132","endLine":101,"endColumn":39},{"ruleId":"124","severity":1,"message":"152","line":1,"column":17,"nodeType":"126","messageId":"127","endLine":1,"endColumn":25},{"ruleId":"124","severity":1,"message":"153","line":2,"column":16,"nodeType":"126","messageId":"127","endLine":2,"endColumn":19},{"ruleId":"124","severity":1,"message":"154","line":10,"column":8,"nodeType":"126","messageId":"127","endLine":10,"endColumn":12},{"ruleId":"124","severity":1,"message":"155","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":13},{"ruleId":"124","severity":1,"message":"156","line":3,"column":8,"nodeType":"126","messageId":"127","endLine":3,"endColumn":12},{"ruleId":"124","severity":1,"message":"157","line":5,"column":9,"nodeType":"126","messageId":"127","endLine":5,"endColumn":19},{"ruleId":"124","severity":1,"message":"158","line":7,"column":8,"nodeType":"126","messageId":"127","endLine":7,"endColumn":11},{"ruleId":"124","severity":1,"message":"136","line":10,"column":21,"nodeType":"126","messageId":"127","endLine":10,"endColumn":31},{"ruleId":"124","severity":1,"message":"137","line":10,"column":33,"nodeType":"126","messageId":"127","endLine":10,"endColumn":38},{"ruleId":"124","severity":1,"message":"159","line":16,"column":8,"nodeType":"126","messageId":"127","endLine":16,"endColumn":25},{"ruleId":"124","severity":1,"message":"142","line":27,"column":19,"nodeType":"126","messageId":"127","endLine":27,"endColumn":27},{"ruleId":"124","severity":1,"message":"155","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":13},{"ruleId":"124","severity":1,"message":"156","line":3,"column":8,"nodeType":"126","messageId":"127","endLine":3,"endColumn":12},{"ruleId":"124","severity":1,"message":"157","line":5,"column":9,"nodeType":"126","messageId":"127","endLine":5,"endColumn":19},{"ruleId":"124","severity":1,"message":"160","line":6,"column":8,"nodeType":"126","messageId":"127","endLine":6,"endColumn":17},{"ruleId":"124","severity":1,"message":"158","line":7,"column":8,"nodeType":"126","messageId":"127","endLine":7,"endColumn":11},{"ruleId":"124","severity":1,"message":"161","line":9,"column":8,"nodeType":"126","messageId":"127","endLine":9,"endColumn":17},{"ruleId":"124","severity":1,"message":"162","line":10,"column":10,"nodeType":"126","messageId":"127","endLine":10,"endColumn":19},{"ruleId":"124","severity":1,"message":"136","line":10,"column":21,"nodeType":"126","messageId":"127","endLine":10,"endColumn":31},{"ruleId":"124","severity":1,"message":"137","line":10,"column":33,"nodeType":"126","messageId":"127","endLine":10,"endColumn":38},{"ruleId":"124","severity":1,"message":"163","line":11,"column":13,"nodeType":"126","messageId":"127","endLine":11,"endColumn":16},{"ruleId":"124","severity":1,"message":"164","line":27,"column":12,"nodeType":"126","messageId":"127","endLine":27,"endColumn":17},{"ruleId":"124","severity":1,"message":"142","line":27,"column":19,"nodeType":"126","messageId":"127","endLine":27,"endColumn":27},{"ruleId":"124","severity":1,"message":"155","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":13},{"ruleId":"124","severity":1,"message":"156","line":3,"column":8,"nodeType":"126","messageId":"127","endLine":3,"endColumn":12},{"ruleId":"124","severity":1,"message":"157","line":5,"column":9,"nodeType":"126","messageId":"127","endLine":5,"endColumn":19},{"ruleId":"124","severity":1,"message":"158","line":7,"column":8,"nodeType":"126","messageId":"127","endLine":7,"endColumn":11},{"ruleId":"124","severity":1,"message":"136","line":10,"column":21,"nodeType":"126","messageId":"127","endLine":10,"endColumn":31},{"ruleId":"124","severity":1,"message":"137","line":10,"column":33,"nodeType":"126","messageId":"127","endLine":10,"endColumn":38},{"ruleId":"124","severity":1,"message":"159","line":16,"column":8,"nodeType":"126","messageId":"127","endLine":16,"endColumn":25},{"ruleId":"124","severity":1,"message":"142","line":28,"column":19,"nodeType":"126","messageId":"127","endLine":28,"endColumn":27},"no-native-reassign",["165"],"no-negated-in-lhs",["166"],"@typescript-eslint/no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","'InputLabel' is defined but never used.","'Task' is defined but never used.","'FieldArray' is defined but never used.","'Field' is defined but never used.","'sizing' is defined but never used.","'LabelRoundedIcon' is defined but never used.","'AddBoxRoundedIcon' is defined but never used.","'IconButton' is defined but never used.","'setState' is assigned a value but never used.","'ListItem' is defined but never used.","'ListItemProps' is defined but never used.","'ListItemIcon' is defined but never used.","'ListItemText' is defined but never used.","'Button' is defined but never used.","'List' is defined but never used.","'Paper' is defined but never used.","'TaskForm' is defined but never used.","'ListItemSecondaryAction' is defined but never used.","'useState' is defined but never used.","'Tag' is defined but never used.","'grey' is defined but never used.","'Modal' is defined but never used.","'Grid' is defined but never used.","'makeStyles' is defined but never used.","'Box' is defined but never used.","'DialogContentText' is defined but never used.","'ChipInput' is defined but never used.","'TextField' is defined but never used.","'useFormik' is defined but never used.","'Yup' is defined but never used.","'state' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]